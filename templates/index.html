<!doctype html>
<html lang="en" x-data="theme()" x-init="init()" :class="dark ? 'theme-dark' : ''">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>üè† IntervYou ‚Äî AI Interview Coach</title>

  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#4F46E5">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="IntervYou">
  <link rel="manifest" href="/static/manifest.json">
  <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
  <link rel="apple-touch-icon" href="/static/icons/icon-152x152.png">
  <script src="/static/pwa-install.js" defer></script>

  <!-- Tailwind + Alpine -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#f0f9ff',
              100: '#e0f2fe',
              200: '#bae6fd',
              300: '#7dd3fc',
              400: '#38bdf8',
              500: '#0ea5e9',
              600: '#0284c7',
              700: '#0369a1',
              800: '#075985',
              900: '#0c4a6e',
            }
          }
        }
      }
    }
  </script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  
  <!-- Theme & Expanding Menu Styles -->
  <link rel="stylesheet" href="{{ url_for('static', path='theme.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', path='expanding-menu.css') }}">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
    body { font-family: 'Inter', sans-serif; }
    [x-cloak]{display:none!important;}
    @keyframes gradientMove {
      0% {background-position:0% 50%;}
      50% {background-position:100% 50%;}
      100% {background-position:0% 50%;}
    }
    .animate-gradient {
      background-size: 200% 200%;
      animation: gradientMove 12s ease infinite;
    }
  </style>
</head>

<body class="bg-gray-50 text-slate-900 antialiased dark:bg-slate-900 dark:text-slate-100">

  <!-- Hover trigger area for navbar -->
  <div class="nav-hover-trigger"></div>
  
  <!-- Expanding Menu Navigation -->
  <div class="expanding-menu-container">
    <nav class="expanding-menu" role="navigation" aria-label="Main navigation">
      <a href="/" class="menu-link" aria-label="Home">
        <span class="menu-link-icon">home</span>
        <span class="menu-link-title">Home</span>
      </a>
      
      <!-- Explore Dropdown -->
      <div class="menu-link explore-dropdown" aria-label="Explore">
        <span class="menu-link-icon">explore</span>
        <span class="menu-link-title">Explore</span>
        
        <!-- Dropdown Panel -->
        <div class="explore-panel">
          <a href="/practice" class="explore-item">
            <span class="material-symbols-rounded">psychology</span>
            <span>Practice</span>
          </a>
          <a href="/mock_interview" class="explore-item">
            <span class="material-symbols-rounded">school</span>
            <span>Mock Interview</span>
          </a>
          <a href="/video_interview" class="explore-item">
            <span class="material-symbols-rounded">videocam</span>
            <span>Video Interview</span>
          </a>
          <a href="/report" class="explore-item">
            <span class="material-symbols-rounded">analytics</span>
            <span>Report</span>
          </a>
          <a href="/leaderboard" class="explore-item">
            <span class="material-symbols-rounded">leaderboard</span>
            <span>Leaderboard</span>
          </a>
          <a href="/advisor" class="explore-item">
            <span class="material-symbols-rounded">support_agent</span>
            <span>Advisor</span>
          </a>
          <a href="/resume" class="explore-item">
            <span class="material-symbols-rounded">description</span>
            <span>Resume Analyzer</span>
          </a>
          <a href="/saved" class="explore-item">
            <span class="material-symbols-rounded">bookmark</span>
            <span>Saved</span>
          </a>
        </div>
      </div>
      
      <a href="/profile" class="menu-link" aria-label="Profile">
        <span class="menu-link-icon">account_circle</span>
        <span class="menu-link-title">Profile</span>
      </a>
      
      <!-- Theme Toggle -->
      <button @click="toggleTheme()" class="menu-link" aria-label="Toggle Theme" type="button">
        <span class="menu-link-icon" x-text="dark ? 'dark_mode' : 'light_mode'">light_mode</span>
        <span class="menu-link-title" x-text="dark ? 'Dark' : 'Light'">Light</span>
      </button>
      
      <a href="/logout" class="menu-link" aria-label="Logout">
        <span class="menu-link-icon">logout</span>
        <span class="menu-link-title">Logout</span>
      </a>
    </nav>
  </div>

  <!-- HERO SECTION -->
  <section class="relative h-[90vh] flex items-center justify-center text-center overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-sky-400 via-sky-500 to-blue-500 animate-gradient"></div>
    <div class="absolute inset-0 bg-black/40"></div>

    <div class="relative z-10 max-w-3xl px-6">
      <h1 class="text-5xl md:text-7xl font-extrabold text-white leading-tight">
        Master Your <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-white">Interviews</span> with AI
      </h1>
      <p class="mt-6 text-lg text-white/90">
        Practice real interview scenarios, get instant AI-powered feedback, and track your growth ‚Äî all in one place.
      </p>

      <div class="mt-8 flex flex-wrap justify-center gap-4">
        <a href="/mock_interview" class="px-6 py-3 rounded-xl bg-white text-sky-600 font-semibold shadow hover:scale-105 transition">
          üöÄ Start Mock Interview
        </a>
        <a href="/practice" class="px-6 py-3 rounded-xl bg-white/20 border border-white/30 text-white font-semibold hover:bg-white/30 transition">
          üéØ Practice Session
        </a>
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section class="py-20 bg-white dark:bg-slate-900">
    <div class="max-w-7xl mx-auto px-6">
      <h2 class="text-3xl font-bold text-center mb-12">Why IntervYou?</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
        <div class="p-6 bg-slate-50 dark:bg-slate-800 rounded-xl shadow text-center">
          <div class="text-4xl mb-3">üß†</div>
          <h3 class="font-semibold mb-2">AI Feedback Engine</h3>
          <p class="text-sm text-slate-600 dark:text-slate-400">Receive detailed, real-time feedback on grammar, tone, and clarity powered by advanced NLP models.</p>
        </div>
        <div class="p-6 bg-slate-50 dark:bg-slate-800 rounded-xl shadow text-center">
          <div class="text-4xl mb-3">üìä</div>
          <h3 class="font-semibold mb-2">Smart Progress Tracking</h3>
          <p class="text-sm text-slate-600 dark:text-slate-400">Visualize your category-wise performance and track improvement over time with interactive charts.</p>
        </div>
        <div class="p-6 bg-slate-50 dark:bg-slate-800 rounded-xl shadow text-center">
          <div class="text-4xl mb-3">üéôÔ∏è</div>
          <h3 class="font-semibold mb-2">Voice & Emotion Analysis</h3>
          <p class="text-sm text-slate-600 dark:text-slate-400">Analyze your tone, pitch, and energy to boost confidence during spoken interviews.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- DASHBOARD PREVIEW -->
  <section class="bg-gradient-to-br from-sky-50 to-white dark:from-slate-800 dark:to-slate-900 py-20">
    <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      <div>
        <h3 class="text-3xl font-bold mb-4">Your Personalized Interview Dashboard</h3>
        <p class="text-slate-600 dark:text-slate-400 mb-6">
          Track your attempts, analyze detailed reports, view AI insights, and climb the leaderboard ‚Äî all from your interactive dashboard.
        </p>
        <a href="/report" class="px-5 py-3 bg-sky-500 text-white font-semibold rounded-lg hover:bg-sky-600 transition">
          üìä View My Report
        </a>
      </div>
      <div class="rounded-2xl shadow-xl overflow-hidden border border-slate-100 dark:border-slate-700">
        <img src="/static/img/dashboard-preview.png" alt="Dashboard preview" class="w-full object-cover">
      </div>
    </div>
  </section>

  <!-- CTA SECTION -->
  <section class="text-center py-24 bg-gradient-to-r from-sky-500 to-blue-500 text-white">
    <h3 class="text-4xl font-extrabold mb-4">Start your journey to interview mastery</h3>
    <p class="text-white/90 max-w-2xl mx-auto mb-8">Consistent, focused practice guided by AI ‚Äî your key to confidence and clarity in every interview.</p>
    <a href="/mock_interview" class="px-8 py-3 bg-white text-sky-600 rounded-xl font-semibold hover:scale-105 transition">üöÄ Begin Now</a>
  </section>

  <!-- FOOTER -->
  <footer class="bg-slate-900 text-white py-10">
    <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-6">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-sky-400 to-blue-500 grid place-items-center text-white font-bold">AI</div>
        <div>
          <div class="font-semibold">IntervYou</div>
          <div class="text-xs text-slate-400">AI Interview Coach ‚Äî Practice. Improve. Succeed.</div>
        </div>
      </div>
      <div class="text-sm text-slate-400">¬© {{ now().year if now else '2025' }} IntervYou. All rights reserved.</div>
    </div>
  </footer>

  <!-- Theme Script -->
  <script>
    function theme(){
      return {
        dark:false,
        init(){
          const saved = localStorage.getItem('iv_theme');
          this.dark = saved === 'dark';
          this.apply();
        },
        toggleTheme(){
          this.dark = !this.dark;
          localStorage.setItem('iv_theme', this.dark ? 'dark':'light');
          this.apply();
        },
        apply(){
          if(this.dark){
            document.documentElement.classList.add('dark');
            document.body.classList.add('bg-slate-900','text-slate-100');
          } else {
            document.documentElement.classList.remove('dark');
            document.body.classList.remove('bg-slate-900','text-slate-100');
          }
        }
      }
    }
  </script>
  
  <!-- Expanding Menu Script -->
  <script src="{{ url_for('static', path='expanding-menu.js') }}"></script>
  
  <!-- Navbar Auto-hide and Explore Dropdown Enhancement -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Navbar auto-hide functionality
      const navContainer = document.querySelector('.expanding-menu-container');
      const hoverTrigger = document.querySelector('.nav-hover-trigger');
      let hideTimeout;
      
      if (navContainer && hoverTrigger) {
        // Enable pointer events on trigger when mouse is near top
        document.addEventListener('mousemove', function(e) {
          if (e.clientY < 80) {
            hoverTrigger.style.pointerEvents = 'auto';
          } else {
            hoverTrigger.style.pointerEvents = 'none';
          }
        });
        
        // Show navbar when mouse enters trigger area
        hoverTrigger.addEventListener('mouseenter', function() {
          clearTimeout(hideTimeout);
          navContainer.classList.add('show');
        });
        
        // Keep navbar visible when hovering over it
        navContainer.addEventListener('mouseenter', function() {
          clearTimeout(hideTimeout);
          navContainer.classList.add('show');
        });
        
        // Hide navbar when mouse leaves
        navContainer.addEventListener('mouseleave', function() {
          hideTimeout = setTimeout(function() {
            navContainer.classList.remove('show');
          }, 300);
        });
        
        console.log('‚úÖ Navbar auto-hide initialized');
      }
      
      // Explore dropdown functionality
      const exploreDropdown = document.querySelector('.explore-dropdown');
      const explorePanel = document.querySelector('.explore-panel');
      
      if (exploreDropdown && explorePanel) {
        console.log('‚úÖ Explore dropdown elements found');
        
        // Force initial state
        explorePanel.style.position = 'absolute';
        explorePanel.style.zIndex = '9999';
        
        // Add hover listeners
        exploreDropdown.addEventListener('mouseenter', function() {
          console.log('üñ±Ô∏è Mouse entered Explore');
          explorePanel.style.opacity = '1';
          explorePanel.style.visibility = 'visible';
          explorePanel.style.transform = 'translateY(0)';
          explorePanel.style.pointerEvents = 'auto';
          explorePanel.style.display = 'block';
        });
        
        exploreDropdown.addEventListener('mouseleave', function(e) {
          console.log('üñ±Ô∏è Mouse left Explore');
          setTimeout(function() {
            if (!explorePanel.matches(':hover')) {
              explorePanel.style.opacity = '0';
              explorePanel.style.visibility = 'hidden';
              explorePanel.style.transform = 'translateY(-10px)';
              explorePanel.style.pointerEvents = 'none';
            }
          }, 100);
        });
        
        // Keep panel open when hovering over it
        explorePanel.addEventListener('mouseleave', function() {
          console.log('üñ±Ô∏è Mouse left panel');
          explorePanel.style.opacity = '0';
          explorePanel.style.visibility = 'hidden';
          explorePanel.style.transform = 'translateY(-10px)';
          explorePanel.style.pointerEvents = 'none';
        });
        
        console.log('‚úÖ Explore dropdown initialized successfully');
      } else {
        console.error('‚ùå Explore dropdown elements not found');
      }
    });
  </script>
</body>
</html>
